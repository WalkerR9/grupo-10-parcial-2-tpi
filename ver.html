<!DOCTYPE html>
<html lang="es">

<head>
    <title>El Aragan</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="appGrupo10/css/bootstrap.min.css">
    <script src="appGrupo10/js/bootstrap.bundle.min.js"></script>
</head>

<body>

    <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: brown;">
		<div class="container-fluid">
			<a class="navbar-brand" href="#">EL ARAGAN</a>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse"
				data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav me-auto mb-2 mb-lg-0">
					<li class="nav-item">
						<a class="nav-link" aria-current="page" href="index.html">Home</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" aria-current="page" href="muebles.html">Muebles</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" aria-current="page" href="admin.html">Admin</a>
					</li>
				</ul>
			</div>
		</div>
	</nav>

    <div class="container-md" id="producto">
        <br>
        <h3 class="display-4"> Articulo: <span id="titulo" class="fw-bold"></span></h3>

        <div class="row">
            <div class="col-4">
                <img src="" class="img-fluid img-thumbnail" alt="" id="imagen">
            </div>
            <div class="col-8">
                <div class="mb-3 row">
                    <label for="precio" class="col-sm-2 col-form-label"><span class="badge rounded-pill bg-info text-dark">Precio:</span></label>
                    <div class="col-sm-10">
                      <input type="text" readonly class="form-control-plaintext lead" id="precio" value="" disabled>
                    </div>
                  </div>
                  <div class="mb-3 row">
                    <label for="descripcion" class="col-sm-2 col-form-label"><span class="badge rounded-pill bg-info text-dark">Descripcion:</span></label>
                    <div class="col-sm-10">
                      <textarea class="form-control-plaintext text-center lead" id="descripcion" cols="25" rows="5" disabled></textarea>
                    </div>
                  </div>
                  <div class="mb-3 row">
                    <label for="categoria" class="col-sm-2 col-form-label"><span class="badge rounded-pill bg-info text-dark">Categoria:</span></label>
                    <div class="col-sm-10">
                      <input type="text" readonly class="form-control-plaintext lead" id="categoria" disabled>
                    </div>
                  </div>
            </div>
        </div>
    </div>

    <script>
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        var product = urlParams.get('id');
        product.replace('+', '');
        console.log("este es el producto: " + product);

        fetch('http://127.0.0.1:3000/muebleria/' + product)
            .then(res => res.json())
            .then(data => {
                setProducto(data);
            })
            .catch(error => {
                alert(error);
            });

        function setProducto(data){
            document.getElementById('titulo').innerText=data.titulo;
            document.getElementById('imagen').src=data.imagen;
            document.getElementById('precio').value="$ "+data.precio;
            document.getElementById('descripcion').value=data.descripcion;
            document.getElementById('categoria').value=data.categoria;
        }

    </script>


    <!-- Remove the container if you want to extend the Footer to full width. -->
    <div class="container-fluid>

	<footer class=" bg-light text-center">
        <!-- Grid container -->
        <div class="container p-4 pb-0">
            <!-- Section: Form -->
            <section class="">
                <form action="">
                    <!--Grid row-->
                    <div class="row d-flex justify-content-center">
                        <!--Grid column-->
                        <div class="col-auto">
                            <p class="pt-2">
                                <strong>Sign up for our newsletter</strong>
                            </p>
                        </div>
                        <!--Grid column-->

                        <!--Grid column-->
                        <div class="col-md-5 col-12">
                            <!-- Email input -->
                            <div class="form-outline mb-4">
                                <input type="email" id="form5Example2" class="form-control" />
                                <label class="form-label" for="form5Example2">Email address</label>
                            </div>
                        </div>
                        <!--Grid column-->

                        <!--Grid column-->
                        <div class="col-auto">
                            <!-- Submit button -->
                            <button type="submit" class="btn btn-primary mb-4">
                                Subscribe
                            </button>
                        </div>
                        <!--Grid column-->
                    </div>
                    <!--Grid row-->
                </form>
            </section>
            <!-- Section: Form -->
        </div>
        <!-- Grid container -->

        <!-- Copyright -->
        <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
            Â© 2020 Copyright:
            <a class="text-dark" href="https://mdbootstrap.com/">MDBootstrap.com</a>
        </div>
        <!-- Copyright -->
        </footer>

    </div>
</body>

</html>